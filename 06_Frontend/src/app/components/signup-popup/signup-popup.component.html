<div id="signupPopup" class="popup">
  <div class="popup-content">
    <!-- Left section containing logo and headings -->
    <div class="left-section">
      <div class="left-top">
        <!-- Logo -->
        <img
          src="../../../assets/homesvg.svg"
          alt="Home Logo"
          class="home-logo"
          style="width: 123px"
        />
        <!-- Signup heading -->
        <div class="Login-heading">Sign Up</div>
      </div>
      <!-- Features headings -->
      <div class="headings">
        <p><span class="tick">✔</span> Zero Brokerage</p>
        <p><span class="tick">✔</span> Thousands of listings</p>
        <p><span class="tick">✔</span> Verified Properties</p>
      </div>
    </div>
    <!-- Right section containing signup form -->
    <div class="right-section">
      <!-- Close button for the popup -->
      <span class="close-button" (click)="closePopup()">×</span>
      <!-- Text prompting user to enter details -->
      <p class="enter-phone-text">Enter details to sign up</p>

      <div class="input-container">
        <input type="text" placeholder="Username" [(ngModel)]="username" name="username"
               #usernameInput="ngModel" minlength="3" maxlength="20" required
               (blur)="usernameInputFocused = false" (focus)="usernameInputFocused = true" />
        <!-- Error messages for Username -->
        <div *ngIf="!usernameInputFocused && usernameInput.invalid && (usernameInput.dirty || usernameInput.touched)"
             class="error-message">
          <div *ngIf="usernameInput.errors?.['required']">Username is required</div>
          <div *ngIf="usernameInput.errors?.['minlength']">Username must be at least 3 characters</div>
          <div *ngIf="usernameInput.errors?.['maxlength']">Username cannot exceed 20 characters</div>
        </div>
      </div>

      <!-- Full Name input field -->
      <div class="input-container">
        <input type="text" placeholder="Full Name" [(ngModel)]="fullName" name="fullName"
               #fullNameInput="ngModel" minlength="3" maxlength="50" required
               (blur)="fullNameInputFocused = false" (focus)="fullNameInputFocused = true" />
        <!-- Error messages for Full Name -->
        <div *ngIf="!fullNameInputFocused && fullNameInput.invalid && (fullNameInput.dirty || fullNameInput.touched)"
             class="error-message">
            <div *ngIf="fullNameInput.errors?.['required']">Full Name is required</div>
            <div *ngIf="fullNameInput.errors?.['minlength']">Full Name must be at least 3 characters</div>
            <div *ngIf="fullNameInput.errors?.['maxlength']">Full Name cannot exceed 50 characters</div>
        </div>
      </div>

      <!-- Email input field -->
      <div class="input-container">
        <input type="email" placeholder="Email" [(ngModel)]="email" name="email" #emailInput="ngModel"
               required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
               (blur)="emailInputFocused = false" (focus)="emailInputFocused = true" />
        <!-- Error messages for Email -->
        <div *ngIf="!emailInputFocused && emailInput.invalid && (emailInput.dirty || emailInput.touched)"
             class="error-message">
            <div *ngIf="emailInput.errors?.['required']">Email is required</div>
            <div *ngIf="emailInput.errors?.['pattern']">Invalid email format</div>
        </div>
      </div>

      <!-- Phone Number input field -->
      <div class="input-container">
        <input type="tel" placeholder="Phone Number" [(ngModel)]="phoneNumber" name="phoneNumber"
               #phoneNumberInput="ngModel" required pattern="[0-9]{10}"
               (blur)="phoneNumberInputFocused = false" (focus)="phoneNumberInputFocused = true" />
        <!-- Error messages for Phone Number -->
        <div *ngIf="!phoneNumberInputFocused && phoneNumberInput.invalid && (phoneNumberInput.dirty || phoneNumberInput.touched)"
             class="error-message">
            <div *ngIf="phoneNumberInput.errors?.['required']">Phone Number is required</div>
            <div *ngIf="phoneNumberInput.errors?.['pattern']">Invalid phone number format (should be 10 digits)</div>
        </div>
      </div>

      <!-- Password input field -->
      <div class="input-container">
        <input type="password" placeholder="Password" [(ngModel)]="password" name="password"
               #passwordInput="ngModel" minlength="6" required
               (blur)="passwordInputFocused = false" (focus)="passwordInputFocused = true" />
        <!-- Error messages for Password -->
        <div *ngIf="!passwordInputFocused && passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)"
             class="error-message">
            <div *ngIf="passwordInput.errors?.['required']">Password is required</div>
            <div *ngIf="passwordInput.errors?.['minlength']">Password must be at least 6 characters</div>
        </div>
      </div>

      <!-- Continue button -->
      <button class="continue-button" [disabled]="!fullNameInput.valid || !emailInput.valid || !phoneNumberInput.valid || !passwordInput.valid" [ngClass]="{'disabled-button': !fullNameInput.valid || !emailInput.valid || !phoneNumberInput.valid || !passwordInput.valid}" (click)="onContinueClick()">Continue</button>

      <!-- Already a user section with login button -->
      <div class="already-user">
        <p style="margin-top: 10px; margin-bottom: 0">Already an user?</p>
        <button class="login-button" (click)="showLoginPopup()">Login</button>
      </div>
    </div>
  </div>
</div>
